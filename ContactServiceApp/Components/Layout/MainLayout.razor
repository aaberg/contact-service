@using ContactServiceApp.Components.Identity
@inherits LayoutComponentBase
@inject ILogger<MainLayout> Logger

<MudThemeProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout>
    <MudAppBar Elevation="4">
        <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick='DrawerToggle' />
        <MudText Typo="Typo.h5">Contacts</MudText>
        <MudText Typo="Typo.body1" Class="pt-1 px-4">The network builder</MudText>
        <MudSpacer></MudSpacer>
        <ProfileFab></ProfileFab>
    </MudAppBar>
    <MudDrawer @bind-Open="_drawerOpen" ClipMode="DrawerClipMode.Always">
            <MudNavMenu class="mud-width-full">
                <MudText Typo="Typo.h6" Class="px-4">Contacts</MudText>
                <MudText Typo="Typo.body2" Class="px-4 mud-text-secondary">The network nuilder</MudText>
                <MudDivider Class="my-2" />
                <MudNavLink Href="/network" Icon="@Icons.Material.Filled.Contacts">Contact list</MudNavLink>
                <MudNavLink Href="/settings" Icon="@Icons.Material.Filled.Settings">Settings</MudNavLink>
            </MudNavMenu>
        
    </MudDrawer>
    <MudMainContent>
        @Body
    </MudMainContent>
</MudLayout>

@code
{
    private bool _drawerOpen = true;
    private void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
        Logger.LogInformation(@"Drawer is now: " + (_drawerOpen ? "Open" : "Closed"));
    }

    protected override void OnInitialized()
    {
        base.OnInitialized();
        Logger.LogInformation("Layout component initialized.");
    }
}

